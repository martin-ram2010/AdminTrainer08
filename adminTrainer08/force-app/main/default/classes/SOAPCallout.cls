public with sharing class SOAPCallout {
    //Credential Constants
    public static final String USER_NAME = '********';
    public static final String PASSWORD = '********';
    public static final String SECURTY_TOKEN = '********';

    //Get the Session Id by using stub class generated by Partner WSDL
    public static String soapLogin(){
        //partnerSoapSforceCom.Soap.login()
        partnerSoapSforceCom.Soap soap = new partnerSoapSforceCom.Soap();
        partnerSoapSforceCom.LoginResult result = soap.login(USER_NAME, PASSWORD+SECURTY_TOKEN);

        System.debug('response: '+result);
        return result.sessionId;
    }

    //Get the response from SOAPWSSample by using stub class generated by SOAPWebServiceSample wsdl
    public static String callSoapWsSample(String sessionId, String message){
        // SOAPWSSample.SOAPWebServiceSample.getMessage()
        SOAPWSSample.SOAPWebServiceSample ws = new SOAPWSSample.SOAPWebServiceSample();

        //Creating and Assigning the session Id to SOAPWebServiceSample callout
        SOAPWSSample.SessionHeader_element session = new SOAPWSSample.SessionHeader_element();
        session.sessionId = sessionId;
        ws.SessionHeader = session;

        //Consume SOAPWebServiceSample getMessage() by making callout
        SOAPWSSample.Response res = ws.getMessage(message);
        System.debug('Response: '+res);
        return res.response;
    }

    /*
        String sessionId = SOAPCallout.soapLogin();
        String response = SOAPCallout.callSoapWsSample(sessionId, 'I have implemented SOAP WS');
    */
}
