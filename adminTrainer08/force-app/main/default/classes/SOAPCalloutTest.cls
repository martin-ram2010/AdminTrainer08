@isTest
public class SOAPCalloutTest {
    //Create Mock Class for Login - Partner SOAP
    public class LoginMock implements WebServiceMock {
         public void doInvoke(
                Object stub,
                Object request,
                Map<String, Object> response,
                String endpoint,
                String soapAction,
                String requestName,
                String responseNS,
                String responseName,
                String responseType) {
     
             // Create response element from the autogenerated class.
             // Populate response element.
             // Add response element to the response parameter, as follows:
             
             partnerSoapSforceCom.loginResponse_element resElement = new partnerSoapSforceCom.loginResponse_element();
             //Create dummy LoginResult
             partnerSoapSforceCom.LoginResult result = new partnerSoapSforceCom.LoginResult();
             result.sessionId = 'testenv';
             result.userId = UserInfo.getUserId();

             resElement.result = result;

             response.put('response_x', resElement); 
        }
    }

    //testmethod
    @isTest
    static void soapLoginTest(){
        Test.setMock(WebServiceMock.class, new LoginMock());
        String sessionId = SOAPCallout.soapLogin();
        System.debug('sessionId : '+sessionId);
        System.assertEquals('testenv', sessionId, 'Error : Expected and actual session Id not matching');
    }
}
